import { useNavigate } from 'react-router-dom';
import InfoButton from './InfoButton';

interface PageHeaderProps {
  title?: string;
  showBack?: boolean;
  showSettings?: boolean;
  infoTitle?: string;
  infoDescription?: string;
  customRightElement?: React.ReactNode; 
}

const PageHeader = ({
  title,
  showBack = false,
  showSettings = false,
  infoTitle,
  infoDescription,
  customRightElement, 
}: PageHeaderProps) => {
  const navigate = useNavigate();

  return (
    <header
      className="flex items-center justify-between 
                 pt-28 pb-6 px-6
                 bg-gradient-to-b from-black via-black to-black/0
                 sticky top-0 z-40 text-white font-sf"
    >  
      <div className="flex items-center gap-3">
        {showBack && (
          <button
            onClick={() => navigate(-1)}
            className="p-2 rounded-lg hover:bg-white/10 transition-colors"
            aria-label="Назад"
          >
            <svg 
              width="10" 
              height="20" 
              viewBox="0 0 8 13" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
              className="block"
            >
              <path 
                fillRule="evenodd" 
                clipRule="evenodd" 
                d="M7.75335 0.223977C8.08222 0.522613 8.08222 1.0068 7.75335 1.30543L2.03302 6.5L7.75335 11.6946C8.08222 11.9932 8.08222 12.4774 7.75335 12.776C7.42449 13.0747 6.8913 13.0747 6.56244 12.776L0.246647 7.04073C-0.0822163 6.74209 -0.0822163 6.25791 0.246647 5.95927L6.56244 0.223977C6.8913 -0.0746591 7.42449 -0.0746591 7.75335 0.223977Z" 
                fill="white" 
              />
            </svg>
          </button>
        )}
        <h1 className="text-2xl font-bold ml-2">{title}</h1>
      </div>

      <div className="flex items-center gap-2">
        {customRightElement ? (
          customRightElement 
        ) : (
          <>
            {infoTitle && infoDescription && (
              <InfoButton title={infoTitle} description={infoDescription} />
            )}
            {showSettings && (
              <button className="p-2 rounded-lg hover:bg-white/10 transition-colors" aria-label="Настройки">
                <svg 
                  width="25" 
                  height="25" 
                  viewBox="0 0 25 25" 
                  fill="none" 
                  xmlns="http://www.w3.org/2000/svg"
                  className="block"
                >
                  <path 
                    d="M12.4956 22.601C12.7612 22.601 13.0063 22.5699 13.282 22.5492L13.8744 23.6891C13.9867 23.917 14.2114 24.0414 14.4872 23.9999C14.7425 23.9481 14.9264 23.7616 14.957 23.4818L15.1409 22.228C15.6413 22.0933 16.1417 21.8964 16.6319 21.6788L17.5511 22.5181C17.7452 22.7046 17.9903 22.7461 18.2456 22.601C18.4703 22.4767 18.5622 22.228 18.5112 21.9585L18.2558 20.7151C18.6746 20.4145 19.0933 20.0726 19.4712 19.6892L20.6151 20.1762C20.8705 20.2798 21.1053 20.228 21.2995 19.9897C21.4731 19.8032 21.4933 19.5337 21.3505 19.3058L20.6866 18.2281C20.993 17.7929 21.2382 17.3265 21.4731 16.8292L22.719 16.8914C22.9845 16.9017 23.2091 16.7566 23.3012 16.4976C23.3828 16.2385 23.3012 15.9898 23.0866 15.824L22.1165 15.0365C22.2493 14.5391 22.3513 14.0002 22.3921 13.4407L23.5768 13.0677C23.8322 12.9744 23.9956 12.7775 23.9956 12.4977C23.9956 12.2283 23.8322 12.0314 23.5768 11.9382L22.3921 11.5547C22.3513 10.9951 22.2493 10.4771 22.1165 9.96928L23.0866 9.17141C23.3012 9.01596 23.3828 8.77761 23.3012 8.51857C23.2091 8.25948 22.9845 8.11442 22.719 8.12476L21.4731 8.17663C21.2382 7.67919 20.993 7.21292 20.6866 6.77769L21.3505 5.7C21.4933 5.48239 21.4731 5.21296 21.2995 5.02642C21.1053 4.78812 20.8705 4.72591 20.6151 4.83993L19.4712 5.30625C19.0933 4.94353 18.6746 4.59119 18.2558 4.29072L18.5112 3.05759C18.5622 2.77781 18.4703 2.52911 18.2456 2.40474C17.9903 2.27002 17.7452 2.29076 17.5511 2.49803L16.6319 3.31667C16.1417 3.09906 15.6413 2.92287 15.1409 2.77781L14.957 1.52398C14.9264 1.25455 14.7425 1.05767 14.4872 1.0162C14.2114 0.974768 13.9867 1.08875 13.8744 1.31671L13.282 2.4566C13.0063 2.43587 12.7612 2.41513 12.4956 2.41513C12.2199 2.41513 11.9747 2.43587 11.6888 2.4566L11.1067 1.31671C10.9943 1.08875 10.7696 0.974768 10.4837 1.0162C10.2283 1.05767 10.0547 1.25455 10.0138 1.52398L9.84021 2.76746C9.32954 2.92287 8.82911 3.09906 8.34908 3.31667L7.42993 2.49803C7.22564 2.29076 6.98053 2.27002 6.73541 2.40474C6.51073 2.52911 6.41879 2.77781 6.46986 3.05759L6.72517 4.29072C6.29625 4.59119 5.87753 4.94353 5.49959 5.30625L4.36596 4.83993C4.1106 4.72591 3.86549 4.78812 3.67144 5.02642C3.50807 5.21296 3.48764 5.48239 3.62041 5.68961L4.29445 6.77769C3.98807 7.21292 3.74295 7.67919 3.50807 8.17663L2.25182 8.12476C1.98631 8.11442 1.76159 8.25948 1.67988 8.51857C1.59818 8.77761 1.66968 9.01596 1.88417 9.17141L2.86463 9.96928C2.73185 10.4771 2.61951 10.9951 2.58888 11.5547L1.40413 11.9382C1.13858 12.021 0.995605 12.2179 0.995605 12.4977C0.995605 12.7775 1.13858 12.9744 1.40413 13.0677L2.58888 13.451C2.61951 14.0002 2.73185 14.5391 2.86463 15.0365L1.88417 15.824C1.66968 15.9898 1.59818 16.2385 1.67988 16.4976C1.76159 16.7566 1.98631 16.9017 2.25182 16.8914L3.50807 16.8292C3.74295 17.3265 3.98807 17.7929 4.28425 18.2281L3.63061 19.3058C3.4774 19.5337 3.49783 19.8032 3.67144 19.9897C3.86549 20.228 4.1106 20.2798 4.36596 20.1762L5.49959 19.6892C5.87753 20.0726 6.29625 20.4145 6.72517 20.7151L6.46986 21.9585C6.41879 22.228 6.51073 22.4767 6.73541 22.601C6.99072 22.7461 7.23584 22.7046 7.42993 22.5181L8.33888 21.6788C8.82911 21.8964 9.32954 22.0933 9.84021 22.228L10.0138 23.4818C10.0547 23.7616 10.2283 23.9481 10.4837 23.9999C10.7696 24.0414 10.9943 23.917 11.1067 23.6891L11.6888 22.5492C11.9645 22.5699 12.2199 22.601 12.4956 22.601ZM15.0591 11.8449C14.5791 10.5392 13.6395 9.82421 12.465 9.82421C12.2914 9.82421 12.0871 9.84495 11.7603 9.91746L8.82911 4.83993C9.92191 4.29072 11.1679 3.99021 12.4956 3.99021C16.9486 3.99021 20.4415 7.42015 20.7581 11.8449L15.0591 11.8449ZM4.20255 12.5081C4.20255 9.62733 5.54046 7.08855 7.6546 5.55494L10.6062 10.6635C10.0547 11.2438 9.79938 11.876 9.79938 12.5495C9.79938 13.2023 10.0445 13.8034 10.6062 14.4044L7.5831 19.4197C5.52003 17.8758 4.20255 15.3681 4.20255 12.5081ZM11.2394 12.5391C11.2394 11.8345 11.8318 11.2853 12.4854 11.2853C13.1799 11.2853 13.7519 11.8345 13.7519 12.5391C13.7519 13.2334 13.1799 13.8034 12.4854 13.8034C11.8318 13.8034 11.2394 13.2334 11.2394 12.5391ZM12.4956 21.0259C11.1373 21.0259 9.87084 20.7047 8.7576 20.1451L11.7603 15.1608C12.0769 15.2437 12.2914 15.2645 12.465 15.2645C13.6497 15.2645 14.5893 14.5287 15.0591 13.192L20.7581 13.192C20.4312 17.596 16.9383 21.0259 12.4956 21.0259Z" 
                    fill="white" 
                    stroke="white"
                  />
                </svg>
              </button>
            )}
          </>
        )}
      </div>
    </header>
  );
};

export default PageHeader;
